<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /app/views/layout.html -->
{% extends 'layout-dhsc.html' %}
<!--
  In /app/views/layout.html you can:
    - change the header and footer
    - add custom CSS and JavaScript
-->

<!--
  Use this to set the page name which will appear at the
  start of the <title> tag, followed by the service name.
  This is often not needed on the homepage, where only the
  service name is needed. You can also reuse this variable
  within the <h1>, where they are the same.
-->
{% set pageName = "Data uploads" %}

<!-- For adding a breadcrumb or back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs and https://service-manual.nhs.uk/design-system/components/back-link -->
{% block beforeContent %}
<nav class="nhsuk-breadcrumb" aria-label="Breadcrumb">
  <ol class="nhsuk-breadcrumb__list">
    <li class="nhsuk-breadcrumb__list-item">
      <a class="nhsuk-breadcrumb__link" href="/v3/dhsc">Dashboard</a>
    </li>
    <li class="nhsuk-breadcrumb__list-item">
      <a class="nhsuk-breadcrumb__link" href="/v3/dhsc/datasources">View data</a>
    </li>
    <!-- <li class="nhsuk-breadcrumb__list-item">
      <a class="nhsuk-breadcrumb__link" href="#">Hospitals</a>
    </li> -->
  </ol>
  <!-- 
  <a class="nhsuk-back-link" href="#">
    <span class="nhsuk-u-visually-hidden">Back to</span> Hospitals
  </a> -->

</nav>
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">

    <h1>Review uploaded data</h1>

    <div class="nhsuk-error-summary" data-module="nhsuk-error-summary">
      <div role="alert">
        <h2 class="nhsuk-error-summary__title">
          There is a problem
        </h2>
        <div class="nhsuk-error-summary__body">
          <p>
            There are four rows with errors, you can correct them below or cancel the upload and start again
          </p>
          <ul class="nhsuk-list nhsuk-error-summary__list">

            <li>
              <a href="#example-error-1">Unable to validate product Aple tablets modified release </a>
            </li>
            <li>
              <a href="#example-error-2">Unable to validate dm+d matched name Qualtrucks LTD </a>
            </li>
            <li>
              <a href="#example-error-3">Unable to validate dm+d matched name Alpha Bafta LTD </a>
            </li>
            <li>
              <a href="#example-error-4">Unable to validate VTM Febuxostar</a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="example-error-1">
      <h2 class="nhsuk-heading-m nhsuk-u-margin-bottom-2">Edit entry to update table</h2>
      <p id="input-error" class="nhsuk-error-message nhsuk-u-margin-bottom-2">
        <span class="nhsuk-u-visually-hidden">Error:</span> Unable to validate product Aple tablets modified release
      </p>

      <div class="nhsuk-form-group nhsuk-u-margin-bottom-2">
        <label class="nhsuk-label" for="two-thirds">
          Product name
        </label>
        <div id="example-with-hint-text-hint" class="nhsuk-hint">
          Enter a new product name to rectify the error
        </div>
        <input class="nhsuk-input nhsuk-u-width-two-thirds" id="two-thirds" name="twoThirds" type="text">
      </div>

      <details class="nhsuk-details ">
        <summary class="nhsuk-details__summary">
          <span class="nhsuk-details__summary-text">
            View current entry
          </span>
        </summary>
        <div class="nhsuk-details__text">
          <div class="large-table-container">
            <table role="table" class="nhsuk-table-responsive" data-module="moj-sortable-table">
              <thead role="rowgroup" class="nhsuk-table__head">
                <tr role="row">
                  <th role="columnheader" aria-sort="none">VTM <span class="sort-indicator" aria-hidden="true">⇅</span>
                  </th>
                  <th role="columnheader" aria-sort="none">MA Date <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Authorisation Number <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Product Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Company Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">dm+d Matched Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                </tr>
              </thead>

              <tbody class="nhsuk-table__body">


                <tr class="nhsuk-table__row">
                  <td class="nhsuk-table__cell">Azesaleic acid</td>
                  <td class="nhsuk-table__cell">22/04/2023</td>
                  <td class="nhsuk-table__cell">MA/2010/019</td>
                  <td class="nhsuk-table__cell">Aple tablets modified release</td>
                  <td class="nhsuk-table__cell">TestCompanyA</td>
                  <td class="nhsuk-table__cell">TestCompanyA</td>
                </tr>



              </tbody>
            </table>

          </div>

        </div>
      </details>


    </div>
    <br>
    <div id="example-error-2">
      <h2 class="nhsuk-heading-m nhsuk-u-margin-bottom-2">Edit entry to update table</h2>
      <p id="input-error" class="nhsuk-error-message nhsuk-u-margin-bottom-2">
        <span class="nhsuk-u-visually-hidden">Error:</span> Unable to validate dm+d matched name Qualtrucks LTD
      </p>

      <div class="nhsuk-form-group nhsuk-u-margin-bottom-2">
        <label class="nhsuk-label" for="two-thirds">
          dm+d matched name
        </label>
        <div id="example-with-hint-text-hint" class="nhsuk-hint">
          Enter a dm+d matched name to rectify the error
        </div>
        <input class="nhsuk-input nhsuk-u-width-two-thirds" id="two-thirds" name="twoThirds" type="text">
      </div>

      <details class="nhsuk-details ">
        <summary class="nhsuk-details__summary">
          <span class="nhsuk-details__summary-text">
            View current entry
          </span>
        </summary>
        <div class="nhsuk-details__text">
          <div class="large-table-container">
            <table role="table" class="nhsuk-table-responsive" data-module="moj-sortable-table">
              <thead role="rowgroup" class="nhsuk-table__head">
                <tr role="row">
                  <th role="columnheader" aria-sort="none">VTM <span class="sort-indicator" aria-hidden="true">⇅</span>
                  </th>
                  <th role="columnheader" aria-sort="none">MA Date <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Authorisation Number <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Product Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Company Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">dm+d Matched Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                </tr>
              </thead>

              <tbody class="nhsuk-table__body">

                <tr class="nhsuk-table__row">
                  <td class="nhsuk-table__cell">Abacavir</td>
                  <td class="nhsuk-table__cell">22/04/2024</td>
                  <td class="nhsuk-table__cell">MA/2010/220</td>
                  <td class="nhsuk-table__cell">Abacavir slow release 120mg tablets</td>
                  <td class="nhsuk-table__cell">Qualtrics Consulting Ltd</td>
                  <td class="nhsuk-table__cell">Qualtrucks Ltd</td>
                </tr>



              </tbody>
            </table>

          </div>

        </div>
      </details>


    </div>
    <br>
    <div id="example-error-3">
      <h2 class="nhsuk-heading-m nhsuk-u-margin-bottom-2">Edit entry to update table</h2>
      <p id="input-error" class="nhsuk-error-message nhsuk-u-margin-bottom-2">
        <span class="nhsuk-u-visually-hidden">Error:</span>Unable to validate dm+d matched name Alpha Bafta LTD
      </p>

      <div class="nhsuk-form-group nhsuk-u-margin-bottom-2">
        <label class="nhsuk-label" for="two-thirds">
          dm+d matched name
        </label>
        <div id="example-with-hint-text-hint" class="nhsuk-hint">
          Enter a dm+d matched name to rectify the error
        </div>
        <input class="nhsuk-input nhsuk-u-width-two-thirds" id="two-thirds" name="twoThirds" type="text">
      </div>

      <details class="nhsuk-details ">
        <summary class="nhsuk-details__summary">
          <span class="nhsuk-details__summary-text">
            View current entry
          </span>
        </summary>
        <div class="nhsuk-details__text">
          <div class="large-table-container">
            <table role="table" class="nhsuk-table-responsive" data-module="moj-sortable-table">
              <thead role="rowgroup" class="nhsuk-table__head">
                <tr role="row">
                  <th role="columnheader" aria-sort="none">VTM <span class="sort-indicator" aria-hidden="true">⇅</span>
                  </th>
                  <th role="columnheader" aria-sort="none">MA Date <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Authorisation Number <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Product Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Company Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">dm+d Matched Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                </tr>
              </thead>

              <tbody class="nhsuk-table__body">

                <tr class="nhsuk-table__row">
                  <td class="nhsuk-table__cell">Aspirin</td>
                  <td class="nhsuk-table__cell">22/04/1981</td>
                  <td class="nhsuk-table__cell">MA/2027/220</td>
                  <td class="nhsuk-table__cell">Aspirin ultra fast release 10mg tablets</td>
                  <td class="nhsuk-table__cell">Alpha Beta Int'l LTD</td>
                  <td class="nhsuk-table__cell">Aplha Bafta LTD</td>
                </tr>


              </tbody>
            </table>

          </div>

        </div>
      </details>


    </div>
    <br>
    <div id="example-error-4">
      <h2 class="nhsuk-heading-m nhsuk-u-margin-bottom-2">Edit entry to update table</h2>
      <p id="input-error" class="nhsuk-error-message nhsuk-u-margin-bottom-2">
        <span class="nhsuk-u-visually-hidden">Error:</span>Unable to validate VTM Febuxostar
      </p>

      <div class="nhsuk-form-group nhsuk-u-margin-bottom-2">
        <label class="nhsuk-label" for="two-thirds">
          Virtual Therapeutic Moeity (VTM)
        </label>
        <div id="example-with-hint-text-hint" class="nhsuk-hint">
          Enter a VTM to rectify the error
        </div>
        <input class="nhsuk-input nhsuk-u-width-two-thirds" id="two-thirds" name="twoThirds" type="text">
      </div>

      <details class="nhsuk-details ">
        <summary class="nhsuk-details__summary">
          <span class="nhsuk-details__summary-text">
            View current entry
          </span>
        </summary>
        <div class="nhsuk-details__text">
          <div class="large-table-container">
            <table role="table" class="nhsuk-table-responsive" data-module="moj-sortable-table">
              <thead role="rowgroup" class="nhsuk-table__head">
                <tr role="row">
                  <th role="columnheader" aria-sort="none">VTM <span class="sort-indicator" aria-hidden="true">⇅</span>
                  </th>
                  <th role="columnheader" aria-sort="none">MA Date <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Authorisation Number <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Product Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">Company Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                  <th role="columnheader" aria-sort="none">dm+d Matched Name <span class="sort-indicator"
                      aria-hidden="true">⇅</span></th>
                </tr>
              </thead>

              <tbody class="nhsuk-table__body">

                <tr class="nhsuk-table__row">
                  <td class="nhsuk-table__cell">Febuxostar</td>
                  <td class="nhsuk-table__cell">22/04/2023</td>
                  <td class="nhsuk-table__cell">MA/2010/019</td>
                  <td class="nhsuk-table__cell">TestA 120mg tablets</td>
                  <td class="nhsuk-table__cell">TestCompanyA</td>
                  <td class="nhsuk-table__cell">TestCompanyA</td>
                </tr>


              </tbody>
            </table>

          </div>

        </div>
      </details>


    </div>

    <!-- 
          <div class="large-table-container">
        <table role="table" class="nhsuk-table-responsive" data-module="moj-sortable-table">
  <thead role="rowgroup" class="nhsuk-table__head">
    <tr role="row">
      <th role="columnheader" aria-sort="none">VTM <span class="sort-indicator" aria-hidden="true">⇅</span></th>
      <th role="columnheader" aria-sort="none">MA Date <span class="sort-indicator" aria-hidden="true">⇅</span></th>
      <th role="columnheader" aria-sort="none">Authorisation Number <span class="sort-indicator" aria-hidden="true">⇅</span></th>
      <th role="columnheader" aria-sort="none">Product Name <span class="sort-indicator" aria-hidden="true">⇅</span></th>
      <th role="columnheader" aria-sort="none">Company Name <span class="sort-indicator" aria-hidden="true">⇅</span></th>
      <th role="columnheader" aria-sort="none">dm+d Matched Name <span class="sort-indicator" aria-hidden="true">⇅</span></th>
    </tr>
  </thead>

  <tbody class="nhsuk-table__body">


        <tr class="nhsuk-table__row">
      <td class="nhsuk-table__cell">Azesaleic acid</td>
      <td class="nhsuk-table__cell">22/04/2023</td>
      <td class="nhsuk-table__cell">MA/2010/019</td>
      <td class="nhsuk-table__cell">Aple tablets modified release</td>
      <td class="nhsuk-table__cell">TestCompanyA</td>
      <td class="nhsuk-table__cell">TestCompanyA</td>
    </tr>

      <tr class="nhsuk-table__row">
      <td class="nhsuk-table__cell">Abacavir</td>
      <td class="nhsuk-table__cell">22/04/2024</td>
      <td class="nhsuk-table__cell">MA/2010/220</td>
      <td class="nhsuk-table__cell">Abacavir slow release 120mg tablets</td>
      <td class="nhsuk-table__cell">Qualtrics Consulting Ltd</td>
      <td class="nhsuk-table__cell">Qualtrucks Ltd</td>
    </tr>

       <tr class="nhsuk-table__row">
      <td class="nhsuk-table__cell">Aspirin</td>
      <td class="nhsuk-table__cell">22/04/1981</td>
      <td class="nhsuk-table__cell">MA/2027/220</td>
      <td class="nhsuk-table__cell">Aspirin ultra fast release 10mg tablets</td>
      <td class="nhsuk-table__cell">Alpha Beta Int'l LTD</td>
      <td class="nhsuk-table__cell">Aplha Bafta LTD</td>
    </tr>

    <tr class="nhsuk-table__row">
      <td class="nhsuk-table__cell">Febuxostar</td>
      <td class="nhsuk-table__cell">22/04/2023</td>
      <td class="nhsuk-table__cell">MA/2010/019</td>
      <td class="nhsuk-table__cell">TestA 120mg tablets</td>
      <td class="nhsuk-table__cell">TestCompanyA</td>
      <td class="nhsuk-table__cell">TestCompanyA</td>
    </tr>
 
  </tbody>
</table>

        </div> -->

    <!-- End of content -->

  </div>
</div>

<a href="/v3/dhsc/uploads/ma-review2" class="nhsuk-button" id="confirmButton">
  Confirm data
</a>


<a href="/v3/dhsc/uploads/upload-your-dataset" class="nhsuk-button nhsuk-button--secondary">
  Cancel upload
</a>


<script>
  const input = document.getElementById("two-thirds");
  const button = document.getElementById("confirmButton");

  input.addEventListener("input", () => {
    const value = input.value.trim().toLowerCase();

    if (value.includes("error")) {
      button.href = "/v3/dhsc/uploads/block";
    } else {
      button.href = "/v3/dhsc/uploads/ma-review2";
    }
  });
</script>


{% endblock %}